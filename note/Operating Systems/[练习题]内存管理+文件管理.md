# 内存管理+文件管理

一.单项选择题

共50小题，每小题2分，共100分

1. 下面有关外层页表的叙述中错误的是（  ）

    - `A)`    反映在磁盘上页面存放的物理位置

    - B)    外层页表是指页表的页表

    - C)    为不连续（离散）分配的页表再建立一个页表

    - D)    若有了外层页表，则需要一个外层页表寄存器就能实现地址变换

    答案解析
    本题考查多级页表的相关知识。外层页表不是反应磁盘上页面存放的位置，而是在页表较大时将页表进行分页之后，建立的页表的页表。因此本题选择A。

1. 下列选项中，不属于删除文件中必须完成的工作是（     ）。

    - A)
    释放文件所占用的存储空间

    - B)
    在目录中删除该文件相应的目录项，即文件控制块

    - C)
    若文件为共享文件，还要对共享设置进行处理

    - `D)`
    对文件原存储单元全部清零

1. ―个文件系统中，其FCB占64字节，一个盘块大小为1KB，采用一级目录。假定文件目录中有3200个目录项。则查找一个文件平均需要（     ）次访问磁盘。

    - A)
    50

    - B)
    54

    - `C)`
    100

    - D)
    200

    ```python {cmd = true}
    print(1600*64/1024)
    ```

1. 有些操作系统中将文件描述信息从目录项中分离出来，这样做的好处是（         ）。

    - A)
    减少读文件时的I/O信息量

    - B)
    减少写文件时的I/O信息量

    - `C)`
    减少查找文件时的I/O信息量

    - D)
    减少复制文件时的I/O信息量

    答案解析
    本题考查索引节点的优点。在UNIX系统中，采用了把文件名与文件描述信息分开的方法，使文件描述信息单独构成一个称为索引节点的数据结构，也称为i节点。这样文件目录中仅由文件名和指向该文件所对应的i节点的指针构成。因此，目录项缩短为仅16个字节，其中14个字节为文件名，2个字节为i节点指针。若盘块的大小为2KB，则在一个盘块中可以有2KB/16B=128个目录项。这样，查找文件时，可以大大减少读入内存的信息量。因此本题选择C。

1. 如果文件系统中有两个文件重名，不应采用

    - `A)`
    单级目录结构

    - B)
    两级目录结构

    - C)
    树形目录结构

    - D)
    多级目录结构

1. 产生内存抖动主要原因是（         ）。

    - `A)`
    内存空间太小

    - B)
    CPU运行速度太慢

    - C)
    CPU调度算法不合理

    - D)
    内存芯片不稳定

1. 下列算法中，用于磁盘调度的是（         ）。

    - A)
    时间片轮转调度算法

    - B)
    LRU算法

    - `C)`
    最短寻道时间优先算法

    - D)
    优先级高者优先算法

1. 虚拟存储技术是（         ）。

    - A)
    补充内存物理空间的技术

    - `B)`
    补充内存逻辑空间的技术

    - C)
    补充外存空间的技术

    - D)
    扩充输入输出缓冲区的技术

    答案解析
    本题考查虚拟存储器的定义。所谓虚拟存储器，是指仅把作业的一部分装入内存便可运行作业的存储器系统。具体地说，虚拟存储器是指具有请求调入功能和置换功能，能从逻辑上对内存容量进行扩充的一种存储器系统。实际上，用户所看到的大容量只是一种感觉，是虚的，故称之为虚拟存储器。虚拟存储技术是一种性能非常优越的存储器管理技术、故被广泛地应用于大、中、小型机器和微型机中。因此本题的答案是B。

1. 在虚拟页式存储管理方案中，（）完成将页面调入内存的工作。

    - `A)`
    缺页中断处理

    - B)
    页面淘汰过程

    - C)
    工作集模型应用

    - D)
    紧缩技术利用

    答案解析
    在虚拟页式存储管理中，当访问的页面不在内存中时，缺页中断处理将完成将页面调入内存的工作。

1. 在下列存储管理方案中，能实现虚拟存储的是（）。

    - A)
    分区分配

    - B)
    分页存储管理

    - `C)`
    请求分页存储管理

    - D)
    分段存储管理

1. 在以下文件的物理结构中，不利于文件长度动态增长的是（      ）。

    - `A)`
    连续结构

    - B)
    链接结构

    - C)
    索引结构

    - D)
    Hash结构

1. UNIX操作系统中，输入/输出设备看做是（      ）。

    - A)
    普通文件

    - B)
    目录文件

    - C)
    索引文件

    - `D)`
    特殊文件

    答案解析
    在UNIX操作系统中，把输入/输出设备看作是特殊文件。在UNIX系统中包括两类设备：块设备和字符设备。设备特殊文件有一个索引节点，在文件系统目录中占据一个节点，但其索引节点上的文件类型与其他文件不同，是“块”或者是“字符”特殊文件。

1. 若某文件系统索引结点(inode)中有直接地址项和间接地址项，则下列选项中，与单个文件长度无关的因素是（）

    - `A)`
    索引结点的总数

    - B)
    间接地址索引的级数

    - C)
    地址项的个数

    - D)
    文件块大小

    答案解析
    四个选项中，只有A选项是与单个文件长度无关的。

1. 下列算法中，用于磁盘臂调度的是（         ）。

    - A)
    时间片轮转法

    - B)
    优先级高者优先算法

    - `C)`
    最短寻道时间优先

    - D)
    LRU算法

    答案解析
    对于操作系统课程中提到的各种调度算法都应熟记它们的使用环境。时间片轮转法和高优先级优先算法用于进程调度，LRU算法用于页面调度，只有最短寻找时间优先算法才是磁盘移臂调度算法。

1. 在动态分区式内存管理中，能使内存空间中空闲区分布较均匀的算法是（         ）。

    - A)
    最佳适应算法

    - B)
    最坏适应算法

    - C)
    首次适应算法

    - `D)`
    循环首次适应算法

1. 磁盘是可共享设备，因此每一时刻能启动它的作业数目为（         ）。

    - `A)`
    任意多个

    - B)
    限定多个

    - C)
    至少一个

    - D)
    至多一个

    答案解析
    启动磁盘包括读盘和写盘，对于同一数据对象，可以不限制读者的数量。

1. 当系统发生抖动（Thrashing )时，可用采取的有效措施是（      ）。

    I. 撤销部分进程

    II. 增加磁盘交换区的容量

    III. 提高用户进程的优先级

    - `A)`
    仅 I

    - B)
    仅 II

    - C)
    仅III

    - D)
    仅 I、II

    答案解析
    在具有对换功能的操作系统中，通常把外存分为文件区和对换区。前者用于存放文件，后者用于存放从内存换出的进程。抖动现象是指刚刚被换出的页很快又要被访问为此，又要换出其他页，而该页又快被访问，如此频繁的置换页面，以致大部分时间都花在页面置换上。撤销部分进程可以减少所要用到的页面数，防止抖动。对换区大小和进程优先级都与抖动无关。因此本题选择A。

1. 下面的存储管理方案中，（）方式可以采用动态重定位。

    - A)
    固定分区

    - `B)`
    可变分区

    - C)
    页式

    - D)
    段页式

    答案解析
    CD应该也是采用动态重定位的

1. 在段式分配中，CPU每次从内存中取一次数据需要（）次访问内存。

    - A)
    1

    - B)
    3

    - `C)`
    2

    - D)
    4

    答案解析
    在段式分配中，取一次数据时先从内存查找段表，再拼成物理地址后访问内存，共需要2次内存访问。

1. 设磁盘的I/O请求队列中的柱面号为19、376、205、134、18、56、193、396、29、3、19、40,磁头的起始位置为100,若采用SCAN (电梯调度）算法（磁头的当前是往柱面号小的方向移动），则磁头移动共需移动的磁道数为（       ）（该调度算法的磁头移动到最内/外磁道后，就改变方向）。

    - A)
    205

    - B)
    480

    - `C)`
    490

    - D)
    512

    ```python {cmd = true}
    print((100 - 3) + (396 - 3))
    ```

1. 利用Hash法查找文件时，如果目录中相应的目录项是空，则表示（  ）。

    - A)
    文件名已修改

    - `B)`
    系统中无指定文件名

    - C)
    新创建的文件

    - D)
    修改己存文件名

1. 下列关于页表的叙述中，错误的是（         ）。

    - `A)`
    在分页系统中，用户程序能访问页表。

    - B)
    在页式管理中，页表的作用是实现从虚页号到物理块号的地址映射

    - C)
    段页式管理中，一个页表属于某个段

    - D)
    在二级页表中，外层页表是指向页表的页表

1. 提供虚拟存储技术的存储管理方法有（     ）。

    - A)
    动态分区存储管理

    - B)
    页式存储管理

    - `C)`
    请求段式存储管理

    - D)
    存储覆盖技术

    答案解析
    虚拟存储技术是基于页或段从内存的调入、调出实现的，需要有请求机制的支持。

1. 在可变分区管理中，采用拼接技术的目的是（   ）。

    - `A)`
    合并空闲区

    - B)
    合并分配区

    - C)
    增加主存容量

    - D)
    便于地址转换

    答案解析
    在可变分区管理中，回收空闲区时必须采用拼接技术对空闲区进行合并。

1. 在文件系统中可命名的最小数据单位是（         ）。

    - A)
    字符串

    - B)
    数据项

    - C)
    记录

    - `D)`
    文件

1. 下面的说法中，错误的是（   ）。

    I. 一个文件在同一系统中、不同的存储介质上的复制文件，应采用同一种物理结构

    II. 对一个文件的访问，常由用户访问权限和用户优先级共同限制

    III. 文件系统采用树形目录结构后，对于不同用户的文件，其文件名应该不同

    IV. 为防止系统故障造成系统内文件受损，常采用存取控制矩阵方法保护文件

    - A)
    II

    - B)
    I , III

    - C)
      I、III、IV

    - `D)`
    全选

1. 某虚拟存储器系统采用页式内存管理，使用LRU页面替换算法，考虑下面的页面访问地址序列：

    1，8，1，7，8，2，7，2，1，8，3，8，2，1，3，1，7，1，3，7

    假定内存容量为4个页面，开始时是空的，则页面失效次数是（          ）。

    - A)
    4

    - B)
    5

    - `C)`
    6

    - D)
    7

    答案解析
    利用LRU置换算法时的置换如下图所示。

    |访问页面| 1| 8| 1| 7| 8| 2| 7| 2| 1| 8| 3| 8| 2| 1| 3| 1| 7| 1| 3| 7|
    |-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|
    |物理块1|1||1||||||1|||||1||1||1|||
    |物理块2||8|||8|||||8||8|||||7|||7|
    |物理块3||||7|||7||||3||||3||||3||
    |物理块4||||||2||2|||||2||||||||
    |缺页否|√|√||√||√|||||√||||||√|||

    分别在访问第1个，第2个，第4个，第6个，第11个，第17个页面访问时产生中断，共产生6次中断。

    `1` `8` 1 `7` 8 `2` 7 2 1 8 `3` 8 2 1 3 1 `7` 1 3 7

1. 在可变式分区分配方案中，某一作业完成后，系统收回其主存空间并与相邻空闲区合并，为此需修改空闲区表，造成空闲区数减1的情况是（     ）。

    - A)
    无上邻空闲区也无下邻空闲区

    - B)
    有上邻空闲区但无下邻空闲区

    - C)
    有下邻空闲区但无上邻空闲区

    - `D)`
    有上邻空闲区也有下邻空闲区

    答案解析
    系统为管理主存，将不相邻空闲区分别登记，要使空闲区个数减少，唯一的方法是合并，而只有地址相邻的空闲区才可合并。先看选项A，无上邻也无下邻，只好将回收区域单独登记，会导致空闲区数增1。再看选项B和选项C，如果只有一个相邻空闲区，则合并后空闲区数不改变。只有选项D，当与上邻空闲区和下邻空闲区合并，让原来的两个空闲区合并成一个，数量才会减1

1. 分区管理中采用最佳适应分配算法时，把空闲区按（       ）次序登记在空闲区表中。

    - `A)`
    长度递增

    - B)
    长度递减

    - C)
    地址递增

    - D)
    地址递减

    答案解析
    最佳适应算法要求从剩余的空闲分区中选出最小且满足存储要求的分区，空闲区应按长度递增登记在空闲区表中。

1. 文件的逻辑结构是为了方便（  ）而设计的。

    - A)
    存储介质特性

    - `B)`
    操作系统的管理方式

    - C)
    主存容量

    - D)
    用户

1. 现有一个容量为10GB的磁盘分区，磁盘空间以簇(Cluster)为单位进行分配，簇的大小为 4KB，若采用位图法管理该分区的空闲空间，即用一位(bit)标识一个簇是否被分配，则存放该位图所需簇的个为（  )。

    - `A)`
    80

    - B)
    320

    - C)
    80K

    - D)
    320K

    ```python {cmd = true}
    print((10*1024*1024*1024)/(4*1024)  /(4 * 1024)  /8)
    ```

1. 磁盘的读写单位是（     ）。

    - A)
    块

    - `B)`
    扇区

    - C)
    簇

    - D)
    字节

1. 某基于动态分区存储管理的计算机，其主存容量为55MB (初始为空），采用最佳适配（Best Fit)算法，分配和释放的顺序为：分配15MB，分配30MB，释放15MB,分配8MB，分配6MB， 此时主存中最大空闲分区的大小是（     ）。

    - A)
    7MB

    - `B)`
    9MB

    - C)
    10MB

    - D)
    15MB

1. UNIX文件系统中的路径名由（     ）组成。

    - A)
    磁盘符和目录名

    - `B)`
    目录名和文件名

    - C)
    磁盘符、目录结构的各个目录名和文件名

    - D)
    磁盘符、根目录名和文件名

1. 在虚拟存储器系统的页表项中，决定是否会发生页故障的是（     ）。

    - `A)`
    存在位

    - B)
    修改位

    - C)
    页类型

    - D)
    保护码

    答案解析
    页表项中合法位信息显示着本页面是否在内存中，也即决定了是否会发生页面故障。

1. 在请求分页存储管理中，若采用FIFO页面淘汰算法，则当可供分配的页帧数增加时，缺页中断的次数（    ）。

    - A)
    减少

    - B)
    增加

    - C)
    无影响

    - `D)`
    可能增加也可能减少

    答案解析
    请求分页存储管理中，若采用FIFO页面淘汰算法可能会产生当驻留集增大时页故障数不减反增的Belady异常。但还有另外一种情况，页而序列为1，2，3，1，2，3当页帧数为2时产生6次缺页中断，当页帧数为3时产生3次缺页中断。所以在请求分页存储管理中，若采用FIFO页面淘汰算法，则当可供分配的页帧数增加时，缺页中断的次数可能增加也可能减少。

1. 下列说法正确的有（）

    I. 先进先出（FIFO)页面置换算法会产生Belady现象

    II. 最近最少使用（LRU)页面置换算法会产生Belady现象

    III. 在进程运行时，如果它的工作集页面都在虚拟存储器内，能够使该进程有效地运行，否则会出现频繁的页面调入/调出现象

    IV. 在进程运行时，如果它的工作集页面都在主存储器内，能够使该进程有效地运行，否则会出现频繁的页面调入/调出现象

    - A)
    I、III

    - `B)`
    I、IV

    - C)
    II、III

    - D)
    II、IV

    答案解析
    Ⅰ正确：例如，使用先进先出(FIFO)页面置换算法，页面引用串为1、2、3、4、1、2、5、1、2、3、4、5时，当分配3帧时产生9次缺页中断，分配4帧时产生10次缺页中断。Ⅱ错误：最近最少使用(LRU)页面置换算法没有这样的问题。Ⅲ错误。Ⅳ正确：若页面在内存中，不会产生缺页中断，也即不会出现页面的调入/调出。而不是虚拟存储器(包括作为虚拟内存那部分硬盘)。综上分析：Ⅰ、Ⅳ正确。

1. 虚拟存储管理系统的基础是程序的（）理论。

    - A)
    动态性

    - B)
    虚拟性

    - `C)`
    局部性

    - D)
    全局性

    答案解析
    能够实现虚拟存储依据的是程序的局部性原理。亦即程序的时间局部性和空间局部性。时间局部性是指一旦一个指令被执行了，则在不就得将来它可能被再次执行。空间局部性是指一旦一个指令的一个存储单元被访问，那么它附近的单元将很快被访问。程序的局部性原理是虚拟存储技术引入的前提。

1. 在请求分页存储管理的页表中增加了若干项信息，其中修改位和访问位供（  ）参考。

    - A)
    分配页面

    - B)
    调入页面

    - `C)`
    置换算法

    - D)
    程序访问

    答案解析
    当需要置换页面时，置换算法根据修改位和访问位选择调出内存的页面。

1. 如果当前读写磁头正在53号柱面上执行操作，依次有4个等待访问的请求，柱面号依次为98、37、124、65,当采用（）算法时，下―次磁头才可能到达37号柱面。

    - A)
    先来先服务

    - B)
    最短寻道时间优先

    - `C)`
    电梯调度（初始磁头移动方向向着小磁道方向）

    - D)
    循环扫描（磁头移动方向向着大磁道方向）

1. (    )是请求分页存储管理方式和基本分页存储管理方式的区别。

    - A)
    地址重定向

    - `B)`
    不必将作业全部装入内存

    - C)
    采用快表技术

    - D)
    不必将作业装入连续区域

    答案解析
    请求分页存储管理方式和基本分页存储管理方式的区别是，前者采用虚拟技术，因此开始运行时，不必将作业全部一次性装入内存，而后者不是。

1. 假设磁头当前位于第105道，正在向磁道序号增加的方向移动。现有一个磁道访问请求序列为35, 45, 12, 68, 110, 180, 170, 195，采用SCAN调度（电梯调度）算法得到的磁道访问序列是 ( )。

    - `A)`
    110, 170, 180, 195, 68,   45, 35, 12

    - B)
    110, 68, 45, 35,12,  170, 180, 195

    - C)
    110, 170, 180, 195, 12,   35, 45, 68

    - D)
    12, 35, 45, 68, 110, 170, 180, 195

    答案解析
    顾名思义，电梯调度就是按照电梯运行模式来处理磁盘访问请求，先往一个方向，将这个方向的请求全部处理掉，然后掉头往相反方向运动。

1. 在文件系统中，以下不属于文件保护的方法是（     ）。

    - A)
    口令

    - B)
    存取控制

    - C)
    用户权限表

    - `D)`
    读写之后使用关闭命令

    答案解析
    本题考查文件保护的方法。在文件系统中，口令、存取控制、用户权限表都是常用的文件保护方法。因此本题选择D。

1. 为使虚存系统有效地发挥其预期的作用，所运行的程序应具有的特性是（     ）。

    - A)
    该程序不应含有过多的I/O操作

    - B)
    该程序的大小不应超过实际的内存容量

    - `C)`
    该程序应具有较好的局部性

    - D)
    该程序的指令相关性不应过多

    答案解析
    虚存系统能提高计算机存储系统的性价比，在速度方面接近主存的速度，而容量和价格方面接近辅存。实现这个层次结构的先决条件是程序局部性原理，即存储器访问的局部性。所以，运行的程序应具有较好的局部性。

1. 有一个矩阵为100行x200列，即a[100][200]。在一个虚拟系统中，采用LRU算法。系统分给该进程5个页面来存储数据（不包含程序)，设每页可存放200个整数，该程序要对整个数组初始化，数组存储时是按行存放的。试计算下列两个程序各自的缺页次数（假定所有页都以请求方式调入）（）。

    程序一：

           for(i=0;i\<=99;i++）   for(j=0；j\<=199；j++）   A[i][j]=i\`j;

    程序二：

           for(j=0;j\<=199;j++)   for(i=0;i\<=99;i++)   A[i][j]=i\`j;

    - A)
    100, 200

    - `B)`
    100, 20000

    - C)
    200, 100

    - D)
    20000, 100

1. 在请求调页系统中，若逻辑地址中的页号超过页表控制器寄存器指定的页表长度，则会引起（     ）。

    - A)
    输入/输出中断

    - B)
    时钟中断

    - `C)`
    越界中断

    - D)
    缺页中断

1. 以下存储管理方式中，不适合多道程序设计系统的是（）。

    - `A)`
    单用户连续分配

    - B)
    固定式分区分配

    - C)
    可变式分区分配

    - D)
    分页式存储管理方式

    答案解析
    单用户连续分配管理方式只能适用于单用户、单任务的操作系统中，不适合多道程序设计。
1. 段页式存储管理中，地址映射表是（         ）。

    - A)
    每个进程一张段表，两张页表

    - B)
    每个进程的每个段一张段表，一张页表

    - `C)`
    每个进程一张段表，每个段一张页表

    - D)
    每个进程一张页表，每个段一张段表

1. 在虚拟分页存储管理系统中，若进程访问的页面不在主存，且主存中没有可用的空闲帧系统正确的处理顺序为（     ）。

    - A)
    决定淘汰页--\>―页面调出--\>缺页中断--\>页面调入

    - B)
    决定淘汰页--\>页面调入--\>缺页中断--\>页面调出

    - `C)`
    缺页中断--\>决定淘汰页--\>页面调出--\>页面调入

    - D)
    缺页中断--\>决定淘汰页--\>页面调入--\>页面调出

1. 假定磁带记录密度为每英寸（1in=0.0254m)400字符，每一逻辑记录为80字符，块间隙为0.4英寸，现有3000个逻辑记录需要存储，试计算存储这些记录需要多长的磁带？磁带利用率是多少？（     ）

    - A)
    1500 英寸，33.3%

    - B)
    1500 英寸，43.5%

    - `C)`
    1800 英寸，33.3%

    - D)
    1800 英寸，43.5%
    ```python {cmd = true}
    u = (80 / 400)*3000;
    k =  (3000 - 1)*0.4 + u;
    print(k , u / k);
    ```